"use strict";!function(){var e,t=document.querySelector(".js-cart-form form");t&&(Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),(e=document.querySelectorAll(".js-remove-btn"))&&Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){e.parentNode.remove(),!1===function(){var e=document.querySelectorAll(".js-cart-item");return!(null===e.length||e.length<1)}()&&function(){var e=document.querySelectorAll('button[type="submit"]');e&&Array.prototype.forEach.call(e,function(e){console.log(e),e.disabled=!0})}()}),e.addEventListener("keydown",function(){13===evt.keyCode&&e.parentNode.remove()})}),console.log("!"))}(),function(){var e=document.querySelector("body"),t="scrollbar";0<function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n==o&&(o=t.clientWidth),document.body.removeChild(t),n-o}()?e.classList.add(t):e.classList.remove(t)}(),window.activateDropMenu=function(){var e=document.querySelectorAll(".js-drop-item");e&&Array.prototype.forEach.call(e,function(t){var n=t.querySelector(".js-drop-menu"),e=t.getBoundingClientRect().right+document.body.scrollLeft,o=null,r=1023;function i(){n.classList.remove("js-hide"),t.classList.add("js-drop-item--open"),document.addEventListener("click",u)}function c(){n.classList.add("js-hide"),t.classList.remove("js-drop-item--open"),document.removeEventListener("click",u)}function a(){clearTimeout(o)}function s(){window.innerWidth>r&&function(e){o=setTimeout(e,300)}(i)}function l(){window.innerWidth>r&&(a(),c())}function d(e){window.innerWidth>r||(n.classList.contains("js-hide")?(e.preventDefault(),i()):n.classList.contains("js-hide")||n.contains(e.target)||(e.preventDefault(),c()))}function u(e){n.contains(e.target)||t.contains(e.target)||c()}n&&(e<=window.innerWidth/2?n.classList.add("js-left"):n.classList.add("js-right"),t.addEventListener("mouseout",a),t.addEventListener("mouseover",s),t.addEventListener("mouseleave",l),t.addEventListener("click",d),window.addEventListener("resize",function(){window.innerWidth<=r?(t.removeEventListener("mouseover",s),t.removeEventListener("mouseleave",l),t.removeEventListener("mouseout",a),t.addEventListener("click",d)):(t.addEventListener("mouseover",s),t.addEventListener("mouseleave",l),t.addEventListener("mouseout",a),t.removeEventListener("click",d))}))})},activateDropMenu(),function(){var e=document.querySelectorAll('input[type="tel"]');e&&Array.prototype.forEach.call(e,function(e){new IMask(e,{mask:"+7(000)000-00-00"})})}(),function(){var i=document.querySelector("body"),n=document.querySelector(".js-mobile-menu-btn");if(n){var o=[".header__menu-btn",".header__logo",".footer__phones",".header__cart",".header__search",".main-menu__list"],r="mobile-menu",c="mobile-menu--active",a="mobile-menu--close",s="scroll-hidden";n.addEventListener("click",function(){!function(e,t){var n=document.createElement("div"),o=document.createElement("div"),r=e+"__container";n.classList.add(e),o.classList.add(r),Array.prototype.forEach.call(t,function(e){e&&o.appendChild(document.querySelector(e).cloneNode(!0))}),n.appendChild(o),i.appendChild(n)}(r,o);var e=document.querySelector("."+r),t=e.querySelector(".js-mobile-menu-btn"),n=e.querySelector(".mobile-menu__container");window.activateDropMenu(),e&&e.classList.add(c),i.classList.add(s),t.addEventListener("click",function(){l()}),e.addEventListener("click",function(e){n.contains(e.target)||l()})})}function l(){var e=document.querySelector("."+r),t=e.querySelector(".js-mobile-menu-btn");e&&(e.classList.add(a),e.classList.remove(c),t.disabled=!0,n.disabled=!0),i.classList.remove(s),setTimeout(function(){n.disabled=!1,function(e){var t=document.querySelector("."+e);t&&t.remove()}(r)},600)}}(),function(){var n=document.querySelector(".js-tabs");if(n){var e=n.querySelectorAll("label");Array.prototype.forEach.call(e,function(e){e.addEventListener("click",function(){window.innerWidth<768&&!e.classList.contains("active")?(t(),function(e){var t=e.getAttribute("data-tabs"),n=document.querySelector('.js-tabs-content[data-tabs="'+t+'"]').cloneNode(!0);n.classList.add("active"),e.classList.add("active"),function(e,t){t.parentNode.insertBefore(e,t.nextSibling)}(n,e)}(e)):(t(),console.log("ok"))})})}function t(){var e=n.querySelector(".js-tabs-content.active"),t=n.querySelector("label.active");e&&t&&(e.remove(),t.classList.remove("active"))}}(),function(){var e,t=document.querySelectorAll(".js-modal"),r="js-hide",i=document.querySelector("body"),c="scroll-hidden",n=[{BTN:"селектор кнопки",MODAL:"селектор модалки",CALLBACK:"название функции (если есть)"},{BTN:".js-card-cart",MODAL:".js-modal-add"},{BTN:".js-buy-click-btn",MODAL:".js-modal-buy-click"}];t&&((e=Element.prototype).matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null},Array.prototype.forEach.call(t,function(e){var t=e.querySelectorAll(".js-close-btn"),n=e.querySelector(".modal__container");function o(){e.classList.add(r),i.classList.remove(c)}Array.prototype.forEach.call(t,function(e){e.addEventListener("click",o),e.addEventListener("keydown",function(e){13===e.keyCode&&o()})}),e.addEventListener("click",function(e){n.contains(e.target)||o()}),document.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),o())})}),Array.prototype.forEach.call(n,function(t){document.addEventListener("click",function(e){e.target.closest(t.BTN)&&(e.preventDefault(),o(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())}),document.addEventListener("keydown",function(e){e.target.closest(t.BTN)&&13===e.keyCode&&(e.preventDefault(),o(t.MODAL),t.CALLBACK&&"function"==typeof window[t.CALLBACK]&&window[t.CALLBACK]())})}));function o(e){var t=document.querySelector(e);t&&(t.classList.remove(r),i.classList.add(c),function(e){var t=e.querySelector('form input[type]:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]):not([type="file"]):not([type="image"])');t&&t.focus()}(t))}}(),function(){var e;(e=document.querySelectorAll(".quantity-block"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".quantity-block__btn--minus"),n=e.querySelector(".quantity-block__btn--plus"),o=e.querySelector("input"),r=o.getAttribute("data-min"),i=o.getAttribute("data-max"),c=r&&parseInt(r)?r:2,a=r&&parseInt(r)?i:100;new IMask(o,{mask:Number,min:c,max:a}),t.addEventListener("click",function(){o.value>c&&(o.value=+o.value-1)}),n.addEventListener("click",function(){o.value<a&&(o.value=+o.value+1)})})}(),$(function(){$(".js-show-container").each(function(){var e=$(this).find(".js-show-btn"),t=e.attr("data-text"),n=e.attr("data-visible"),o=$(this).find(".js-show-item"),r=$(this).find(".js-dots");$(this).find(".js-show-all").text("("+o.length+")");var i=e.text();o.each(function(e,t){n<=e&&t.classList.add("js-hidden")}),e.click(function(){e.hasClass("js-show-btn-active")?(e.removeClass("js-show-btn-active"),r.removeClass("js-hidden"),e.text(i),o.each(function(e,t){n<=e&&t.classList.add("js-hidden")})):(e.addClass("js-show-btn-active"),r.addClass("js-hidden"),e.text(t),o.each(function(e,t){t.classList.remove("js-hidden")}))})})}),new Swiper(".main-banner",{slidesPerView:1,spaceBetween:0,speed:1e3,loop:!0,grabCursor:!0,keyboard:{enabled:!0},pagination:{el:".main-banner__pagination.swiper-pagination",clickable:!0},navigation:{nextEl:".main-banner__next",prevEl:".main-banner__prev"}}),function(){var e;(e=document.querySelectorAll(".cards-slider"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".cards-slider__wrapper"),n=e.querySelector(".cards-slider__next"),o=e.querySelector(".cards-slider__prev");console.log(t),new Swiper(t,{slidesPerView:"auto",slidesPerGroup:3,navigation:{nextEl:n,prevEl:o},speed:400})})}(),function(){var e;(e=document.querySelectorAll(".product-gallery"))&&Array.prototype.forEach.call(e,function(e){var t=e.querySelector(".product-gallery__thumbs"),n=e.querySelector(".product-gallery__top"),o=e.querySelector(".product-gallery__nav--next"),r=e.querySelector(".product-gallery__nav--prev"),i=new Swiper(t,{slidesPerView:5,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0});new Swiper(n,{spaceBetween:0,observer:!0,observeParents:!0,navigation:{nextEl:o,prevEl:r},thumbs:{swiper:i}})})}();